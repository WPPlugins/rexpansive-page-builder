!function(e){"use strict";var t=e(window);t.load(function(){var n=e(".text-fill-container-canvas");n.length>0&&(n.textFill({relative:!0,relativeWrap:".perfect-grid-item"}),n.on("textfill-render-complete",function(){t.resize()})),e(".perfect-grid-gallery").textResize(),"undefined"!=typeof _plugin_frontend_settings&&1==_plugin_frontend_settings.animations&&e(".rs-animation").rexScrollify({mobile:!1})}),e(function(){function i(){a.each(function(){var n=e(this);if("undefined"!=typeof n.attr("id")&&""!=n.attr("id")){var i=e('#rex-vertical-nav a[href="#'+n.attr("id")+'"]').data("number")-1;n.offset().top-t.height()/2<t.scrollTop()&&n.offset().top+n.height()-t.height()/2>t.scrollTop()?l.eq(i).addClass("is-selected"):l.eq(i).removeClass("is-selected")}})}function r(t){e("body,html").animate({scrollTop:t.offset().top},600)}e(".perfect-grid-gallery").perfectGridGallery(),n(".photoswipe-gallery"),e('a[href*="#"]:not([href="#"]):not(.rex-vertical-nav-link)').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html, body").animate({scrollTop:t.offset().top},600),!1}});var a=e(".rexpansive_section"),l=e("#rex-vertical-nav a");i(),t.on("scroll",function(){i()}),l.on("click",function(t){t.preventDefault(),r(e(this.hash))}),e(".touch .rex-nav-trigger").on("click",function(){e(".touch #rex-vertical-nav").toggleClass("open")}),e(".touch #rex-vertical-nav a").on("click",function(){e(".touch #rex-vertical-nav").removeClass("open")})});var n=function(t){for(var n=function(t){for(var n,i,r,a,l=e(t).find(".pswp-figure").get(),o=l.length,s=[],c=0;o>c;c++)n=l[c],1===n.nodeType&&(i=n.children[0],r=i.getAttribute("data-size").split("x"),a={src:i.getAttribute("href"),w:parseInt(r[0],10),h:parseInt(r[1],10)},n.children.length>1&&(a.title=n.children[1].innerHTML),i.children.length>0&&(a.msrc=i.children[0].getAttribute("data-thumburl")),a.el=n,s.push(a));return s},i=function p(e,t){return e&&(t(e)?e:p(e.parentNode,t))},r=function(n){if(n=n||window.event,!(e(n.target).parents(".perfect-grid-item").find(".element-link").length>0||e(n.target).is("a"))){n.preventDefault?n.preventDefault():n.returnValue=!1;var r=n.target||n.srcElement,a=i(r,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(a){for(var o,s=e(a).parents(t)[0],c=e(s).find(".pswp-figure").get(),f=c.length,p=0,h=0;f>h;h++)if(1===c[h].nodeType){if(c[h]===a){o=p;break}p++}return o>=0&&l(o,s),!1}}},a=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var r=n[i].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t},l=function(e,t,i,r){var a,l,o,s=document.querySelectorAll(".pswp")[0];if(o=n(t),l={galleryUID:t.getAttribute("data-pswp-uid"),closeOnScroll:!1,showHideOpacity:!0},r)if(l.galleryPIDs){for(var c=0;c<o.length;c++)if(o[c].pid==e){l.index=c;break}}else l.index=parseInt(e,10)-1;else l.index=parseInt(e,10);isNaN(l.index)||(i&&(l.showAnimationDuration=0),a=new PhotoSwipe(s,PhotoSwipeUI_Default,o,l),a.init())},o=document.querySelectorAll(t),s=0,c=o.length;c>s;s++)o[s].setAttribute("data-pswp-uid",s+1),o[s].onclick=r;var f=a();f.pid&&f.gid&&l(f.pid,o[f.gid-1],!0,!0)},i=document.getElementsByClassName("rexpansive_section"),r=0;for(r=0;r<i.length;r++){var a=i[r],l=a.getElementsByClassName("pswp-figure");0===l.length&&e(a).removeClass("photoswipe-gallery")}}(jQuery);